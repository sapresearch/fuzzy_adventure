<!DOCTYPE html>
{% load stringhelpers %}
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Fuzzy Adventure</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     
    <link href="{{ STATIC_URL }}/bootstrap/css/bootstrap.css" rel="stylesheet">
    <style type="text/css">
      body {
        padding-top: 20px;
        padding-bottom: 60px;
      }

      input[type="text"] {
        margin: 30px 30px 30px 30px;
       }

      /* Custom container */
      .container {
        margin: 0 auto;
        max-width: 1000px;
      }
      .container > hr {
        margin: 60px 0;
      }

      .jumbotron {
        margin: 40px 0;
        text-align: center;
      }
      .jumbotron h1 {
        font-size: 100px;
        line-height: 1;
      }
      .jumbotron .lead {
        font-size: 24px;
        line-height: 1.25;
      }
      .jumbotron .btn {
        font-size: 21px;
        padding: 14px 24px;
      }

      /* Customize the navbar links to be fill the entire space of the .navbar */
      .navbar .navbar-inner {
        padding: 0;
      }
      .navbar .nav {
        margin: 0;
        display: table;
        width: 100%;
      }
      .navbar .nav li {
        display: table-cell;
        width: 1%;
        float: none;
      }
      .navbar .nav li a {
        font-weight: bold;
        text-align: center;
        border-left: 1px solid rgba(255,255,255,.75);
        border-right: 1px solid rgba(0,0,0,.1);
      }
      .navbar .nav li:first-child a {
        border-left: 0;
        border-radius: 3px 0 0 3px;
      }
      .navbar .nav li:last-child a {
        border-right: 0;
        border-radius: 0 3px 3px 0;
      } 
      
      /* Customize question and answer tables */
      .question_header {
       text-align: center;
       margin-bottom: 40px; 
      }

      .answertable_header {
        text-align: center;
        font-size: 60px;
        margin-bottom: 30px;
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;

      }

    </style>
    <link href="{{ STATIC_URL }}/bootstrap/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../bootstrap/js/html5shiv.js"></script>
    <![endif]-->

</head>

  <body>
    <div class="container">

      <div class="masthead">
        <h3 class="text-info"> Fuzzy Adventure QA System for IMS</h3>
        <div class="navbar">
          <div class="navbar-inner">
            <div class="container">
              <ul class="nav">
                <li class="active"><a href="#">Home</a></li>
                <li><a href="about.html">About</a></li> 
                <li><a href="">Tests</a></li> 
                <li><a href="https://github.com/sapresearch/fuzzy_adventure">Code</a></li>
                <li><a href="contact.html">Contact</a></li>
              </ul>
            </div>
          </div>
        </div><!-- /.navbar -->
      </div>


    <ul class="nav nav-tabs" id="tablist">
        <li><a data-target="#submitquestion" data-toggle="tab">Submit a Question</a></li>
        <li><a data-target="#choosequestion" data-toggle="tab">Choose a Question</a></li>
    </ul>


      <!-- Jumbotron -->
      <div id="questionbox" class="tab-content jumbotron"> 
          
        <!-- div for choosing question -->
            <div id="choosequestion" class="tab-pane">

                <div class="accordion" id="qlist">
                    
                {% for question in questionlist %}
                    <div class="accordion-group">
                        <div class="accordion-heading">
                        <a style="text-align:left;" class="accordion-toggle" data-toggle="collapse" data-parent="#qlist" href="#question{{forloop.counter}}"> 
                        {{ question|empty }} </a>
                        </div>
                        <div id="question{{forloop.counter}}" class="accordion-body collapse">
                            <div class=accordion-inner">
                            {{ question|repl:forloop.counter|safe }}

                            <button class="btn btn-success" style="margin: 0% 0% 1% 10%;" type="button" onClick="parseparams({{forloop.counter}})">
                                Submit
                            </button>
                            </div>
                        </div>
                    </div>
                {% endfor %}
                </div>
            </div>


            <!-- div for submitting question -->
              <div id="submitquestion" class="tab-pane active">
                <h1 class="muted question_header">Submit a Question</h1>
                <input type="text" id="questionfield" class="span4 input-large" placeholder="{{question|default:"Question"}}">
                <a class="btn btn-large btn-success" href='#' onClick="window.location = '/QA_demo/?question='+encodeURIComponent(document.getElementById('questionfield').value)">Submit</a>
              </div>
         

             {% if answer_ary|length > 0 %}
             <table id = "answertable" class ="table table-hover table-bordered">
                <thead><p class="answertable_header">Answers:</p></thead>
                    <tbody>
                {% for answer in answer_ary %}
                       <tr class="info">
                            <td><p class="answertable_entries">{{answer}}</p></td>
                       </tr>
                {% endfor %}
                  </tbody>
             </table>
             {% endif %}
            </div
  
    <hr>
    </div> <!-- /container -->

    <!-- Placed at the end of the document so the pages load faster -->
    
    <script src="{{ STATIC_URL }}/bootstrap/js/jquery-1.10.1.min.js"></script>
    <script src="{{ STATIC_URL }}/bootstrap/js/bootstrap.min.js"></script>
        <script>

        function parseparams(num){ 

                tempstring='/QA_demo/?question_type='+num;
                count =1;
                $( 'input[class=\"input-large inputbox'+num+'\"]' ).each(function() {
                tempstring+='&param'+ count +'='+encodeURIComponent($(this).val());
                count+=1;
                }); 
                    window.location=tempstring;
                }

        $('#myCollapsible').collapse({
        toggle: false
        })        

    
        $('#tablist a').click(function (e) {
        e.preventDefault();
        $(this).tab('show');
        })

        </script>

  </body>
    <div class="footer">
        <p class="text-center">SAP Research 2013</p>
    </div>
</html>

